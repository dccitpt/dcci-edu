<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì í˜ì´ì§€ - êµìœ¡ ê³¼ì • ë“±ë¡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
    </style>
</head>

<body class="bg-gray-100 text-gray-800">

    <div class="max-w-4xl mx-auto py-10 px-4">
        <div class="bg-white rounded-xl shadow-lg p-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-8 border-b pb-4">ğŸ“ êµìœ¡ ê³¼ì • ë“±ë¡ (ê´€ë¦¬ì)</h1>

            <form id="courseForm" class="space-y-6">

                <!-- ê¸°ë³¸ ì •ë³´ -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">ì¹´í…Œê³ ë¦¬</label>
                        <select id="category"
                            class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 font-medium">
                            <option value="ì‹¤ë¬´ì ì—­ëŸ‰ê°•í™” êµìœ¡ > ì„¸ë¬´/íšŒê³„">ì‹¤ë¬´ì ì—­ëŸ‰ê°•í™” êµìœ¡ > ì„¸ë¬´/íšŒê³„</option>
                            <option value="ì‹¤ë¬´ì ì—­ëŸ‰ê°•í™” êµìœ¡ > ì¸ì‚¬/ë…¸ë¬´">ì‹¤ë¬´ì ì—­ëŸ‰ê°•í™” êµìœ¡ > ì¸ì‚¬/ë…¸ë¬´</option>
                            <option value="ì‹¤ë¬´ì ì—­ëŸ‰ê°•í™” êµìœ¡ > ê²½ì˜ì¼ë°˜">ì‹¤ë¬´ì ì—­ëŸ‰ê°•í™” êµìœ¡ > ê²½ì˜ì¼ë°˜</option>
                            <option value="ì¬ì§ì AI êµìœ¡">ì¬ì§ì AI êµìœ¡</option>
                            <option value="FTA ì‹¤ë¬´ êµìœ¡">FTA ì‹¤ë¬´ êµìœ¡</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="adminPassword" required placeholder="ìŠ¤í¬ë¦½íŠ¸ì— ì„¤ì •ëœ ë¹„ë°€ë²ˆí˜¸"
                            class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-red-500">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">ê³¼ì •ëª… (Title)</label>
                    <input type="text" id="title" required
                        class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                        placeholder="ì˜ˆ: 2025ë…„ ì œ1ì°¨ ì›ì‚°ì§€ ê´€ë¦¬ ì‹¤ë¬´">
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">ì¼ì‹œ (Date Text)</label>
                        <input type="text" id="date" required
                            class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                            placeholder="ì˜ˆ: 2025. 3. 14(ëª©) 14:00~18:00">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">ì¥ì†Œ (Place)</label>
                        <input type="text" id="place" required
                            class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                            placeholder="ì˜ˆ: ëŒ€êµ¬ìƒê³µíšŒì˜ì†Œ 4ì¸µ ì¤‘íšŒì˜ì‹¤2">
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">ì •ì› (Capacity)</label>
                        <input type="number" id="capacity" required
                            class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                            placeholder="ì˜ˆ: 40">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">ì‹ ì²­ ê¸°í•œ (Deadline)</label>
                        <input type="date" id="deadline" required
                            class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>

                <!-- ìƒì„¸ ì •ë³´ -->
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">êµìœ¡ ëŒ€ìƒ (Target)</label>
                    <input type="text" id="target"
                        class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                        placeholder="ì˜ˆ: ì§€ì—­ê¸°ì—… ì„ì§ì› ë“±">
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">êµìœ¡ ëª©í‘œ (Goal)</label>
                    <textarea id="goal" rows="3"
                        class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                        placeholder="êµìœ¡ì˜ ëª©ì  ë° ê¸°ëŒ€íš¨ê³¼"></textarea>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">ì£¼ìš” ë‚´ìš© (Content)</label>
                    <textarea id="content" rows="5" required
                        class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                        placeholder="- ë‚´ìš© 1&#10;- ë‚´ìš© 2&#10;- ë‚´ìš© 3"></textarea>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">ê°•ì‚¬ (Instructor)</label>
                        <input type="text" id="instructor"
                            class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                            placeholder="ì†Œì† ë° ì„±ëª…">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">ë¬¸ì˜ì²˜ (Contact)</label>
                        <input type="text" id="contact"
                            class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                            placeholder="ì˜ˆ: ê¸°ì—…ì§€ì›ë¶€ (053-222-3109)">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">êµìœ¡ë¹„ ì•ˆë‚´ (Payment Info)</label>
                    <textarea id="paymentInfo" rows="2"
                        class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                        placeholder="ì˜ˆ: ë¬´ë£Œ (êµì¬ ë° ìˆ˜ë£Œì¦ ì œê³µ)"></textarea>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">ê¸°íƒ€ ì•ˆë‚´ (Other Info)</label>
                    <textarea id="otherInfo" rows="2"
                        class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500"
                        placeholder="ì˜ˆ: ì£¼ì°¨ì¥ì´ í˜‘ì†Œí•˜ì˜¤ë‹ˆ ëŒ€ì¤‘êµí†µì„ ì´ìš©í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤."></textarea>
                </div>

                <div class="pt-6 border-t flex justify-end">
                    <button type="button" onclick="submitCourse()"
                        class="px-8 py-3 bg-blue-900 text-white font-bold rounded-xl shadow hover:bg-blue-800 transition-colors transform hover:-translate-y-0.5">
                        ê³¼ì • ë“±ë¡í•˜ê¸°
                    </button>
                </div>

            </form>
        </div>
    </div>

    <script>
        // â˜…â˜…â˜… index.htmlê³¼ ë™ì¼í•œ URL ì‚¬ìš© â˜…â˜…â˜…
        const scriptURL = 'https://script.google.com/macros/s/AKfycbzZiOrqzVLavEDpGmMf1jCj1fpcg9-GowGxVlOrcdZ7xMXZnfSLG2dbEupX25TNZcIUBA/exec';

        function submitCourse() {
            const btn = document.querySelector('button');
            const originalText = btn.innerText;

            if (!confirm("ì´ëŒ€ë¡œ êµìœ¡ ê³¼ì •ì„ ë“±ë¡í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;

            btn.innerText = "ì²˜ë¦¬ ì¤‘...";
            btn.disabled = true;

            const formData = new FormData();
            formData.append('action', 'add_course'); // ì•¡ì…˜ ì§€ì •
            formData.append('password', document.getElementById('adminPassword').value);

            // ë°ì´í„° ë§¤í•‘
            formData.append('category', document.getElementById('category').value);
            formData.append('title', document.getElementById('title').value);
            formData.append('date', document.getElementById('date').value);
            formData.append('place', document.getElementById('place').value);
            formData.append('capacity', document.getElementById('capacity').value);
            formData.append('deadline', document.getElementById('deadline').value);
            formData.append('target', document.getElementById('target').value);
            formData.append('goal', document.getElementById('goal').value);
            formData.append('content', document.getElementById('content').value);
            formData.append('instructor', document.getElementById('instructor').value);
            formData.append('contact', document.getElementById('contact').value);
            formData.append('paymentInfo', document.getElementById('paymentInfo').value);
            formData.append('otherInfo', document.getElementById('otherInfo').value);

            const data = new URLSearchParams(formData);

            fetch(scriptURL, { method: 'POST', body: data })
                .then(response => response.json())
                .then(result => {
                    if (result.result === 'success') {
                        alert('âœ… êµìœ¡ ê³¼ì •ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
                        document.getElementById('courseForm').reset();
                    } else {
                        alert('â›” ë“±ë¡ ì‹¤íŒ¨: ' + result.msg);
                    }
                    btn.innerText = originalText;
                    btn.disabled = false;
                })
                .catch(error => {
                    alert('ì„œë²„ í†µì‹  ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                    console.error(error);
                    btn.innerText = originalText;
                    btn.disabled = false;
                });
        }
    </script>
</body>

</html>